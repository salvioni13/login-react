{"ast":null,"code":"var _jsxFileName = \"/home/jv/Desktop/Salvioni/react/login-react/src/Pages/Login/index.js\";\nimport React, { useState } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { loginUser, useAuthState, useAuthDispatch } from \"../../Context\";\nimport styles from \"./login.module.css\";\nimport \"../assets/css/acesso.css\";\nimport \"../assets/css/bootstrap.min.css\";\n\nfunction Login(props) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const dispatch = useAuthDispatch();\n  const {\n    loading,\n    errorMessage\n  } = useAuthState();\n\n  const handleLogin = async e => {\n    e.preventDefault();\n\n    try {\n      let response = await loginUser(dispatch, {\n        email,\n        password\n      });\n\n      if (!response.user) {\n        return;\n      } else {\n        return /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n          render: props => authed === true ? /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 17\n            }\n          })) : /*#__PURE__*/React.createElement(Redirect, {\n            to: {\n              pathname: \"/dashboard\",\n              state: {\n                from: props.location\n              }\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 33,\n              columnNumber: 17\n            }\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 11\n          }\n        })); // props.history.push(\"/dashboard\");\n        // console.log(response);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrapper bg-white fadeInDown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"formContent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"pos\",\n    className: \"fadeIn first\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://cdn.discordapp.com/attachments/903648633851871266/930798924325851136/user.png\",\n    id: \"icon\",\n    alt: \"User Icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"form\", {\n    action: \"Logar\",\n    method: \"POST\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    maxLength: \"11\",\n    className: \"fadeIn second\",\n    name: \"cpf\",\n    placeholder: \"CPF 00000000000\",\n    required: \"\",\n    id: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    className: \"fadeIn third\",\n    name: \"senha\",\n    placeholder: \"SENHA\",\n    required: \"\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    onClick: handleLogin,\n    className: \"fadeIn fourth\",\n    value: \"Log In\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  })), errorMessage ? /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  }, errorMessage) : null, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"formFooter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"underlineHover\",\n    href: \"DadosCadastrarUsuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, \"Solicitar Acesso\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"formFooter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, \"\\xAE SG System. \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 26\n    }\n  }, \"Salvioni\"), \". v2.00.0\", \" \"))));\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/jv/Desktop/Salvioni/react/login-react/src/Pages/Login/index.js"],"names":["React","useState","Route","Redirect","loginUser","useAuthState","useAuthDispatch","styles","Login","props","email","setEmail","password","setPassword","dispatch","loading","errorMessage","handleLogin","e","preventDefault","response","user","rest","authed","pathname","state","from","location","error","console","log","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { loginUser, useAuthState, useAuthDispatch } from \"../../Context\";\nimport styles from \"./login.module.css\";\n\nimport \"../assets/css/acesso.css\";\n\nimport \"../assets/css/bootstrap.min.css\";\n\nfunction Login(props) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const dispatch = useAuthDispatch();\n  const { loading, errorMessage } = useAuthState();\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n\n    try {\n      let response = await loginUser(dispatch, { email, password });\n\n      if (!response.user) {\n        return;\n      } else {\n        return (\n          <Route\n            {...rest}\n            render={(props) =>\n              authed === true ? (\n                <Component {...props} />\n              ) : (\n                <Redirect\n                  to={{\n                    pathname: \"/dashboard\",\n                    state: { from: props.location },\n                  }}\n                />\n              )\n            }\n          />\n        );\n\n        // props.history.push(\"/dashboard\");\n        // console.log(response);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <div className=\"wrapper bg-white fadeInDown\">\n      <div id=\"formContent\">\n        <div id=\"pos\" className=\"fadeIn first\">\n          <img\n            src=\"https://cdn.discordapp.com/attachments/903648633851871266/930798924325851136/user.png\"\n            id=\"icon\"\n            alt=\"User Icon\"\n          />\n        </div>\n        <form action=\"Logar\" method=\"POST\">\n          <input\n            type=\"text\"\n            maxLength=\"11\"\n            className=\"fadeIn second\"\n            name=\"cpf\"\n            placeholder=\"CPF 00000000000\"\n            required=\"\"\n            id=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            disabled={loading}\n          />\n          <input\n            type=\"password\"\n            id=\"password\"\n            className=\"fadeIn third\"\n            name=\"senha\"\n            placeholder=\"SENHA\"\n            required=\"\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            disabled={loading}\n          />\n\n          <input\n            type=\"button\"\n            onClick={handleLogin}\n            className=\"fadeIn fourth\"\n            value=\"Log In\"\n          />\n        </form>\n        {errorMessage ? <p className={styles.error}>{errorMessage}</p> : null}\n        <div id=\"formFooter\">\n          <a className=\"underlineHover\" href=\"DadosCadastrarUsuario\">\n            Solicitar Acesso\n          </a>\n        </div>\n        <div id=\"formFooter\">\n          <p>\n            ® SG System. <a href=\"#\">Salvioni</a>. v2.00.0{\" \"}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}